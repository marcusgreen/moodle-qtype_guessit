define("qtype_guessit/gapsnavigation",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=
/**
   * JavaScript code for the guessit question type.
   *
   * @copyright  2024 Joseph RÃ©zeau
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
function(){document.querySelectorAll("input.correct").forEach((input=>{input.readOnly=!0,input.style.cursor="not-allowed"})),document.querySelectorAll('[id^="question-"]').forEach((question=>{const gaps=question.querySelectorAll('input[type="text"][name*="p"]'),checkButton=question.querySelector('button[type="submit"].submit');gaps.forEach(((element,index)=>{element.addEventListener("keydown",(event=>{if((" "===event.key||"Tab"===event.key&&!event.shiftKey)&&(event.preventDefault(),""!==element.value.trim())){let nextIndex=index+1;for(;nextIndex<gaps.length&&gaps[nextIndex].classList.contains("correct");)nextIndex++;if(nextIndex<gaps.length){var nextGap=gaps[nextIndex];nextGap.focus();var length=nextGap.value.length;nextGap.setSelectionRange(length,length),gaps[nextIndex].classList.contains("incorrect")&&(gaps[nextIndex].value="",gaps[nextIndex].classList.remove("incorrect"))}else checkButton&&checkButton.focus()}if("Tab"===event.key&&event.shiftKey){event.preventDefault();let prevIndex=index-1;for(;-1!==prevIndex&&gaps[prevIndex].classList.contains("correct");)prevIndex--;if(-1!==prevIndex)gaps[prevIndex].focus(),gaps[prevIndex].classList.contains("incorrect")&&(gaps[prevIndex].value="",gaps[prevIndex].classList.remove("incorrect"))}})),element.addEventListener("click",(()=>{element.classList.contains("incorrect")&&(element.value="",element.classList.remove("incorrect"))})),element.classList.contains("auto-grow-input")&&(element.addEventListener("input",(function(){element.style.width="auto",element.style.width=element.scrollWidth+1+"px"})),element.dispatchEvent(new Event("input")))}))}))}}));

//# sourceMappingURL=gapsnavigation.min.js.map